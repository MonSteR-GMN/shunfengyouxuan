"use strict";function draw(t){var o=$("#canvas").width(),a=$("#canvas").height(),r=document.getElementById("canvas"),n=r.getContext("2d");r.width=o,r.height=a;for(var e="a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),l=e.length,d=0;d<4;d++){var i=Math.floor(Math.random()*l),h=Math.random()-.5,s=e[i];t[d]=s.toLowerCase();var m=10+20*d,c=20+8*Math.random();n.font="bold 23px 微软雅黑",n.translate(m,c),n.rotate(h),n.fillStyle=randomColor(),n.fillText(s,0,0),n.rotate(-h),n.translate(-m,-c)}for(d=0;d<=5;d++)n.strokeStyle=randomColor(),n.beginPath(),n.moveTo(Math.random()*o,Math.random()*a),n.lineTo(Math.random()*o,Math.random()*a),n.stroke();for(d=0;d<=30;d++){n.strokeStyle=randomColor(),n.beginPath();m=Math.random()*o,c=Math.random()*a;n.moveTo(m,c),n.lineTo(m+1,c+1),n.stroke()}}function randomColor(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}jQuery(function(a){var t=a(".sign .textbox2"),r=a(".sign .yzmtip"),n=[];draw(n),a("#canvas").on("click",function(){draw(n)}),t.focus(function(){r.text("请输入验证码！")}),t.blur(function(){var t=a(".sign .input-val").val().toLowerCase(),o=n.join("");""==t?(!1,r.text("")):t==o?(!0,r.text("正确").css("color","#000")):(!1,r.text("错误").css("color","red"),a(".input-val").val(""))})});